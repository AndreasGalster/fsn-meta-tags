<dom-module id='fsn-meta-tag'>
  <template>
  </template>
</dom-module>


<script>

require('@polymer/polymer/polymer.html');

Polymer({
  is: 'fsn-meta-tag',
  properties: {
    defaultTitle: String,
    title: {
      type: String,
      observer: 'setTitle'
    },
    meta: {
      type: Object,
      observer: 'setMeta'
    },
    tag: {
      type: String,
      observer: 'setMeta'
    }
  },

  setTitle: function() {
    document.title = this.title;
  },
  setMeta: function() {
    this._addTag();
  },
  _addTag: function() {
    var meta = this._buildTag();
    document.querySelector('head').insertAdjacentHTML('beforeend', meta);
  },
  _buildTag() {
    let props = "";
    for (let key in this.meta) {
      props += `${key}="${this.meta[key]}" `;
    }
    props += 'dochead="1"';
    var meta = `<meta ${props}/>`;
    return meta;
  }
});


</script>
